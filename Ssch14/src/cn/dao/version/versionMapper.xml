<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.dao.version.versionMapper">
	<select id="getid" resultType="app_version">
		SELECT *,(SELECT softwareName FROM app_info WHERE Id = appId)as appName,(SELECT valueName FROM data_dictionary WHERE typeName='发布状态' AND publishStatus = valueId)AS publishStatusName FROM app_version WHERE appId = #{appId}
	</select>
	
	<insert id="add" parameterType="app_version">
		insert into app_version (appId,versionNo,versionSize,publishStatus,versionInfo,downloadLink,createdBy,creationDate,apkFileName) 
        values (#{appId},#{versionNo},#{versionSize},#{publishStatus},#{versionInfo},#{downloadLink},#{createdBy},#{creationDate},#{apkFileName})
	</insert>
</mapper>